<!DOCTYPE html>
<html>
  <head>
    <title>AWBW</title>
    <%= javascript_include_tag "application", "data-turbolinks-track" => true %>
    <%= csrf_meta_tags %>
    <meta
      content="width=device-width initial-scale=1 maximum-scale=1 user-scalable=no"
      name="viewport"
    >
    <link
      rel="shortcut icon"
      type="image/png"
      href="<%= asset_path("favicon.png") %>"
    >

    <%= vite_stylesheet_tag "application.css" %>
    <%= vite_client_tag %>
    <%= vite_javascript_tag "application" %>
  </head>
  <body
    class="
      <%= controller.controller_name %> <%= controller.action_name %>
      flex flex-col min-h-screen bg-gray-100
    "
  >

    <div class="flex-grow" id="main">
      <div class="sticky top-0 left-0 w-full z-50 print:hidden">
        <!-- Navbar -->
        <nav class="bg-primary text-white">
          <%= render "shared/tailwind/navbar" %>
        </nav>
        <!-- Banner -->
        <%= render "shared/tailwind/banner" %>
      </div>

      <div class="printed-logo hidden print:block">
        <%= image_tag("awbw-print-logo.png", class: "print:w-36 m-3") %>
        <hr>
      </div>

      <div class="mx-auto max-w-7xl px-2 sm:px-6 lg:px-8">
        <%# TODO handle printable area %>
        <% if user_signed_in? %>
          <div class="signed-in-user <%= main_content_classes %> my-3">
            <%= render "shared/tailwind/flash_messages" %>
            <%= yield %>
          </div>
        <% else %>
          <div class="not-signed-in-user <%= main_content_classes %> my-3">
            <%= render "shared/tailwind/flash_messages" %>
            <%= yield %>
          </div>
        <% end %>
      </div>
    </div>
    <div class="site-footer print:hidden">
      <%= render "shared/tailwind/footer" %>
    </div>
  </body>
</html>
